# The contents of this file is based on https://github.com/home-assistant/core/blob/dev/pyproject.toml

target-version = "py37"

select = ["ALL"]

ignore = [
    "ANN",
    "ANN101",   # Missing type annotation for {name} in method
    "ANN401",   # Dynamically typed expressions (typing.Any) are disallowed in {name}
    "D401",     # First line of docstring should be in imperative mood
    "E501",     # line too long
    "FBT001",   # Boolean positional arg in function definition
    "FBT002",   # Boolean default value in function definition
#    "FIX004",   # Line contains HACK, consider resolving the issue
#    "PD901",    # df is a bad variable name. Be kinder to your future self.
    "PERF203",  # `try`-`except` within a loop incurs performance overhead
    "PLR0913",  # Too many arguments to function call (N > 5)
    "PLR2004",  # Magic value used in comparison, consider replacing X with a constant variable
    "S101",     # Use of assert detected
    "S314",     # Using `xml` to parse untrusted data is known to be vulnerable to XML attacks; use `defusedxml` equivalents
    "SLF001",   # Private member accessed
    "D100",     # Missing docstring in public module
    "D101",     # Missing docstring in public class
    "D102",     # Missing docstring in public method
    "D103",     # Missing docstring in public function
    "D107",     # Missing docstring in __init__
    "D205",     # 1 blank line required between summary line and description
    "D213",     # Multi-line docstring summary should start at the second line
    "D400",     # First line should end with a period
    "D403",     # First word of the first line should be capitalized: {} -> {}
    "D404",     # First word of the docstring should not be "This"
    "D417",     # Missing argument description in the docstring for {definition}: {name}
    # The following are currently violated by the codebase.
    # The plan is to fix these (when sensible) and then enable them.
    # "S605",     # Starting a process with a shell, possible injection detected
    # "PTH110",   # `os.path.exists()` should be replaced by `Path.exists()`
    # "PTH204",   # `os.path.getmtime` should be replaced by `Path.stat().st_mtime`
    # "T201",     # `print` found
    # "PTH119",   # `os.path.basename()` should be replaced by `Path.name`
]

[per-file-ignores]
"tests/*.py" = ["ALL"]
".github/*py" = ["INP001"]
"__init__.py" = ["I001", "F401"]
"pykotor/resource/formats/ncs/compiler/*.py" = ["ALL"]

[flake8-pytest-style]
fixture-parentheses = false

[pyupgrade]
keep-runtime-typing = true

[mccabe]
max-complexity = 25
